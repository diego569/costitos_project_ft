import{o as r,c as o,a as e,F,n as V,t as v,d as S,r as l,q as te,b as s,w as f,u as m,s as y,v as M,x,y as A,z as E,A as ae,Y as re,B as T,G as oe,V as se,S as le,C as ne}from"./0G305dhd.js";import{_ as ce}from"./CBDKxmMK.js";import{_ as de}from"./DfRHYdLe.js";import"./XL-23H_Y.js";const ie={class:"relative overflow-hidden bg-white shadow-md sm:rounded-lg dark:bg-gray-800"},ue=e("div",{class:"flex flex-col items-center justify-between space-y-3 p-4 md:flex-row md:space-x-4 md:space-y-0"},[e("div",{class:"w-full md:w-1/2"},[e("form",{class:"flex items-center"},[e("label",{for:"simple-search",class:"sr-only"},"Search"),e("div",{class:"relative w-full"},[e("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{"aria-hidden":"true",class:"h-5 w-5 text-gray-500 dark:text-gray-400",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])]),e("input",{type:"text",id:"simple-search",class:"block w-full rounded-lg border border-gray-300 bg-gray-50 p-2 pl-10 text-sm text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white dark:placeholder-gray-400 dark:focus:border-primary-500 dark:focus:ring-primary-500",placeholder:"Search",required:""})])])]),e("div",{class:"flex w-full flex-shrink-0 flex-col items-stretch justify-end space-y-2 md:w-auto md:flex-row md:items-center md:space-x-3 md:space-y-0"},[e("button",{type:"button",class:"flex items-center justify-center rounded-lg bg-primary-700 px-4 py-2 text-sm font-medium text-white hover:bg-primary-800 focus:outline-none focus:ring-4 focus:ring-primary-300 dark:bg-primary-600 dark:hover:bg-primary-700 dark:focus:ring-primary-800"},[e("svg",{class:"mr-2 h-3.5 w-3.5",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[e("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"})]),S(" Add product ")])])],-1),pe={class:"overflow-x-auto"},he={class:"w-full text-left text-sm text-gray-500 dark:text-gray-400"},ge=e("thead",{class:"bg-gray-50 text-xs uppercase text-gray-700 dark:bg-gray-700 dark:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-4 py-3"},"Nombre"),e("th",{scope:"col",class:"px-4 py-3"},"Descripcion"),e("th",{scope:"col",class:"px-4 py-3"},"Estado"),e("th",{scope:"col",class:"px-4 py-3"},[e("span",{class:"sr-only"},"Actions")])])],-1),ye={scope:"row",class:"min-w-60 px-4 py-3 font-medium text-gray-900 dark:text-white"},ve={class:"min-w-80 px-4 py-3"},fe={class:"whitespace-nowrap px-4 py-3"},me=e("td",{class:"flex items-center justify-end px-4 py-3"},[e("button",{id:"apple-imac-27-dropdown-button","data-dropdown-toggle":"apple-imac-27-dropdown",class:"inline-flex items-center rounded-lg p-0.5 text-center text-sm font-medium text-gray-500 hover:text-gray-800 focus:outline-none dark:text-gray-400 dark:hover:text-gray-100",type:"button"},[e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})])]),e("div",{id:"apple-imac-27-dropdown",class:"z-10 hidden w-44 divide-y divide-gray-100 rounded bg-white shadow dark:divide-gray-600 dark:bg-gray-700"},[e("ul",{class:"py-1 text-sm text-gray-700 dark:text-gray-200","aria-labelledby":"apple-imac-27-dropdown-button"},[e("li",null,[e("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},"Show")]),e("li",null,[e("a",{href:"#",class:"block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},"Edit")])]),e("div",{class:"py-1"},[e("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white"},"Delete")])])],-1),xe=e("nav",{class:"flex flex-col items-start justify-between space-y-3 p-4 md:flex-row md:items-center md:space-y-0","aria-label":"Table navigation"},[e("span",{class:"text-sm font-normal text-gray-500 dark:text-gray-400"},[S(" Showing "),e("span",{class:"font-semibold text-gray-900 dark:text-white"},"1-10"),S(" of "),e("span",{class:"font-semibold text-gray-900 dark:text-white"},"1000")]),e("ul",{class:"inline-flex items-stretch -space-x-px"},[e("li",null,[e("a",{href:"#",class:"ml-0 flex h-full items-center justify-center rounded-l-lg border border-gray-300 bg-white px-3 py-1.5 text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[e("span",{class:"sr-only"},"Previous"),e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})])])]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center border border-gray-300 bg-white px-3 py-2 text-sm leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"1")]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center border border-gray-300 bg-white px-3 py-2 text-sm leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"2")]),e("li",null,[e("a",{href:"#","aria-current":"page",class:"z-10 flex items-center justify-center border border-primary-300 bg-primary-50 px-3 py-2 text-sm leading-tight text-primary-600 hover:bg-primary-100 hover:text-primary-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white"},"3")]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center border border-gray-300 bg-white px-3 py-2 text-sm leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"...")]),e("li",null,[e("a",{href:"#",class:"flex items-center justify-center border border-gray-300 bg-white px-3 py-2 text-sm leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},"100")]),e("li",null,[e("a",{href:"#",class:"flex h-full items-center justify-center rounded-r-lg border border-gray-300 bg-white px-3 py-1.5 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"},[e("span",{class:"sr-only"},"Next"),e("svg",{class:"h-5 w-5","aria-hidden":"true",fill:"currentColor",viewbox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})])])])])],-1),be={__name:"ProductTable",props:{product:Object},setup(I){return(j,C)=>(r(),o("section",null,[e("div",ie,[ue,e("div",pe,[e("table",he,[ge,e("tbody",null,[(r(!0),o(F,null,V(I.product,i=>(r(),o("tr",{key:i.id,class:"border-b dark:border-gray-700"},[e("th",ye,v(i.name),1),e("td",ve,v(i.description),1),e("td",fe,"S/. "+v(i.status),1),me]))),128))])])]),xe])]))}},_e={class:"col-span-3 overflow-auto rounded-lg border bg-white md:col-span-2"},we=e("h6",{class:"p-3 text-lg font-bold"},"Categorías",-1),ke={class:"overflow-auto"},Ce=["onClick"],Se={class:"flex size-full items-center p-1.5"},je={class:"ml-2 font-sans text-sm font-normal leading-normal antialiased"},$e={key:0},ze=["onClick"],Pe={class:"flex size-full items-center p-1.5"},Be={class:"ml-2 font-sans text-sm font-normal leading-normal antialiased"},Me={key:0},Ae={key:0},Ee=e("p",null,"Cargando productos...",-1),Fe=[Ee],Ve={key:1},Ie={class:"flex justify-between"},Ne=e("h6",{class:"p-1.5 text-lg font-bold"},"Buscar Productos",-1),Le=e("span",{class:"ml-2 hidden md:block"}," Agregar nuevo producto",-1),Re=e("h6",{class:"mt-4 p-3 text-lg font-bold"},"Productos",-1),qe={key:0},De={key:1},Te={key:0},Ue=e("p",null,"Cargando productos...",-1),Ge=[Ue],Qe={key:1},Ye={class:"flex justify-between"},He=e("h6",{class:"p-1.5 text-lg font-bold"},"Buscar Productos en Categoría",-1),Oe=e("span",{class:"ml-2 hidden md:block"}," Agregar nuevo producto",-1),Je={key:0},Ke=e("p",null,"Cargando resultados...",-1),We=[Ke],Xe={key:1},Ze={key:0},et=e("h6",{class:"mt-4 p-3 text-lg font-bold"},"Productos",-1),tt={key:2},at={key:0},rt=e("p",null,"Cargando productos...",-1),ot=[rt],st={key:1},lt={class:"flex justify-between"},nt=e("h6",{class:"p-1.5 text-lg font-bold"},"Buscar Productos en Subcategoría",-1),ct=e("span",{class:"ml-2 hidden md:block"}," Agregar nuevo producto",-1),dt={key:0},it=e("p",null,"Cargando resultados...",-1),ut=[it],pt={key:1},ht={key:0},gt=e("h6",{class:"mt-4 p-3 text-lg font-bold"},"Productos",-1),yt=e("div",{class:"fixed inset-0 bg-black/25"},null,-1),vt={class:"fixed inset-0 overflow-y-auto"},ft={class:"flex min-h-full items-center justify-center p-4 text-center"},mt={class:"mt-2"},U="92c05463-e920-4153-bc38-5c6352701769",Ct={__name:"index",setup(I){const j=l([]),C=l([]),i=l([]),N=l([]),w=l([]),b=l([]),c=l(""),g=l(""),G=l(!0),h=l(!1),L=l(!1),$=l(!1),z=l(!1),d=l(null),p=l(null),Q=async()=>{try{const t=await fetch(y(`/admin/catalogo/getcategoriesbysupplier2/${U}`));if(!t.ok)throw new Error("Failed to fetch categories");const a=await t.json();j.value=a.data}catch(t){console.error(t)}finally{G.value=!1}},Y=async t=>{try{const a=await fetch(y(`/admin/catalogo/getsubcategoriesbysupplierandcategory/${U}/${t}`));if(!a.ok)throw new Error("Failed to fetch subcategories");const u=await a.json();C.value=u.data}catch(a){console.error(a)}},R=async()=>{h.value=!0;try{const t=await fetch(y("/admin/catalogo/products"));if(!t.ok)throw new Error("Failed to fetch products");const a=await t.json();i.value=a.data}catch(t){console.error(t)}finally{h.value=!1}},q=async t=>{h.value=!0;try{const a=await fetch(y(`/admin/catalogo/getproductsbycategory/${t}`));if(!a.ok)throw new Error("Failed to fetch products");const u=await a.json();i.value=u.data}catch(a){console.error(a)}finally{h.value=!1}},H=async t=>{h.value=!0;try{const a=await fetch(y(`/admin/catalogo/getproductsbysubcategory/${t}`));if(!a.ok)throw new Error("Failed to fetch products");const u=await a.json();i.value=u.data}catch(a){console.error(a)}finally{h.value=!1}},O=async()=>{if(!c.value.trim()){N.value=[];return}L.value=!0;try{const t=await fetch(y(`/admin/catalogo/searchproducts?query=${c.value}`));if(!t.ok)throw new Error("Failed to search products");const a=await t.json();i.value=a.data}catch(t){console.error(t)}finally{L.value=!1}},J=async()=>{if(!c.value.trim()){w.value=[];return}$.value=!0;try{const t=await fetch(y(`/admin/catalogo/searchproductsbycategory/${d.value}?query=${c.value}`));if(!t.ok)throw new Error("Failed to search products");const a=await t.json();w.value=a.data}catch(t){console.error(t)}finally{$.value=!1}},K=async()=>{if(!g.value.trim()){b.value=[];return}z.value=!0;try{const t=await fetch(y(`/admin/catalogo/searchproductsbysubcategory/${p.value}?query=${g.value}`));if(!t.ok)throw new Error("Failed to search products");const a=await t.json();b.value=a.data}catch(t){console.error(t)}finally{z.value=!1}},W=t=>{d.value===t.id?(d.value=null,p.value=null,C.value=[],R()):(d.value=t.id,p.value=null,Y(t.id),q(t.id)),c.value="",g.value="",w.value=[],b.value=[]},X=t=>{p.value===t.id?(p.value=null,q(d.value)):(p.value=t.id,H(t.id)),g.value="",b.value=[]};te(()=>{Q(),R()});const P=l(!1),B=()=>{P.value=!0},D=()=>{P.value=!1};return(t,a)=>{const u=ne,k=be,Z=ce,ee=de;return r(),o("template",null,[s(Z,{class:"max-h-[calc(100vh_-_20px)]"},{default:f(()=>[e("div",_e,[we,e("div",ke,[(r(!0),o(F,null,V(j.value,n=>(r(),o("div",{key:n.id},[e("div",{onClick:_=>W(n),class:M([{"text-black":d.value===n.id,"text-gray-600":d.value!==n.id},"cursor-pointer border-t p-2 hover:bg-primary-200"])},[e("div",Se,[s(u,{name:d.value===n.id?"my-icon:caret-down":"my-icon:caret-right",size:"20"},null,8,["name"]),s(u,{name:d.value===n.id?"my-icon:folder-open":"my-icon:folder-close",size:"20",class:"ml-2"},null,8,["name"]),e("p",je,v(n.name),1)])],10,Ce),d.value===n.id?(r(),o("div",$e,[(r(!0),o(F,null,V(C.value,_=>(r(),o("div",{key:_.id,onClick:xt=>X(_),class:M([{"bg-primary-500 text-white":p.value===_.id,"text-gray-600 hover:bg-primary-200":p.value!==_.id},"cursor-pointer border-t p-2 text-gray-400"])},[e("div",Pe,[s(u,{name:"my-icon:circles-four",size:"20",class:"ml-2"}),e("p",Be,v(_.name),1)])],10,ze))),128))])):x("",!0)]))),128))])]),e("div",{class:M(["hidden h-full overflow-auto rounded-lg md:block",m(ae)?"col-span-2 2xl:col-span-3":"col-span-2 lg:col-span-3 xl:col-span-4 2xl:col-span-5"])},[d.value?x("",!0):(r(),o("div",Me,[h.value?(r(),o("div",Ae,Fe)):(r(),o("div",Ve,[e("div",Ie,[Ne,e("button",{onClick:B,class:"relative flex items-center rounded-md bg-primary-600 px-3 py-1.5 text-sm text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-primary-100"},[s(u,{name:"my-icon:plus",size:"20",class:"ml-2"}),Le])]),A(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>c.value=n),onInput:O,placeholder:"Buscar productos...",class:"mb-4 w-full rounded border p-2"},null,544),[[E,c.value]]),Re,e("div",null,[s(k,{product:i.value},null,8,["product"]),!N.value.length&&c.value.trim()?(r(),o("p",qe,'No se encontraron resultados para "'+v(c.value)+'"',1)):x("",!0)])]))])),d.value&&!p.value?(r(),o("div",De,[h.value?(r(),o("div",Te,Ge)):(r(),o("div",Qe,[e("div",Ye,[He,e("button",{onClick:B,class:"relative flex items-center rounded-md bg-primary-600 px-3 py-1.5 text-sm text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-primary-100"},[s(u,{name:"my-icon:plus",size:"20",class:"ml-2"}),Oe])]),A(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>c.value=n),onInput:J,placeholder:"Buscar productos...",class:"mb-4 w-full rounded border p-2"},null,544),[[E,c.value]]),$.value?(r(),o("div",Je,We)):(r(),o("div",Xe,[s(k,{product:w.value},null,8,["product"]),!w.value.length&&c.value.trim()?(r(),o("p",Ze,'No se encontraron resultados para "'+v(c.value)+'"',1)):x("",!0)])),et,e("div",null,[s(k,{product:i.value},null,8,["product"])])]))])):x("",!0),p.value?(r(),o("div",tt,[h.value?(r(),o("div",at,ot)):(r(),o("div",st,[e("div",lt,[nt,e("button",{onClick:B,class:"relative flex items-center rounded-md bg-primary-600 px-3 py-1.5 text-sm text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-primary-100"},[s(u,{name:"my-icon:plus",size:"20",class:"ml-2"}),ct])]),A(e("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=n=>g.value=n),onInput:K,placeholder:"Buscar productos...",class:"mb-4 w-full rounded border p-2"},null,544),[[E,g.value]]),z.value?(r(),o("div",dt,ut)):(r(),o("div",pt,[s(k,{product:b.value},null,8,["product"]),!b.value.length&&g.value.trim()?(r(),o("p",ht,'No se encontraron resultados para "'+v(g.value)+'"',1)):x("",!0)])),gt,e("div",null,[s(k,{product:i.value},null,8,["product"])])]))])):x("",!0)],2)]),_:1}),s(m(le),{appear:"",show:P.value,as:"template"},{default:f(()=>[s(m(re),{as:"div",onClose:D,class:"relative z-10"},{default:f(()=>[s(m(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:f(()=>[yt]),_:1}),e("div",vt,[e("div",ft,[s(m(T),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:f(()=>[s(m(oe),{class:"w-full max-w-xl transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:f(()=>[s(m(se),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:f(()=>[S(" Agregar nuevo producto ")]),_:1}),e("div",mt,[s(ee,{categoryId:d.value,subcategoryId:p.value,closeModal:D},null,8,["categoryId","subcategoryId"])])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}};export{Ct as default};
