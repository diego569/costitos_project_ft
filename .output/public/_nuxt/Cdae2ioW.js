import{_ as E,a as O}from"./BhunZAJv.js";import{_ as R}from"./DAP_5hhF.js";import{d as k,H as V,a0 as I,O as q,e as F,c as i,f as t,w as r,u as o,B as P,F as _,g as D,I as Q,J as U,o as n,a as e,R as A,r as w,n as l,a4 as u,x as p,a1 as C,b as d,t as f,h as $,a2 as z,a3 as G}from"./DaUbdcHR.js";import{r as H,Q as y,a as j,V as J,b as K,N as W,c as X,d as Y}from"./BTAGkbRe.js";import{g as Z,S as ee,r as se,M as te,b as v}from"./k-nYmR0h.js";const ae={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},oe={class:"relative flex h-[60px] items-center justify-between"},re={class:"flex h-full flex-1 items-center justify-start sm:items-stretch sm:justify-start"},ne={class:"flex flex-shrink-0 items-center"},ie=["href"],le={class:"hidden gap-4 sm:ml-6 sm:flex"},ce={class:"absolute inset-y-0 right-0 flex items-center gap-3 sm:static sm:inset-auto sm:pr-0"},ue={key:0,class:"hidden items-center sm:flex"},de={class:"pr-3 text-xs text-gray-800"},fe={class:"font-semibold"},me=e("span",{class:"sr-only"},"Carrito",-1),pe={key:0},ge={key:1,class:"flex items-center"},he=e("span",{class:"sr-only"},"Open user menu",-1),_e={class:"ml-2 hidden md:block"},ye={class:"sm:hidden"},ve=e("span",{class:"absolute -inset-0.5"},null,-1),xe=e("span",{class:"sr-only"},"Open main menu",-1),be={class:"fixed inset-0 z-50 overflow-hidden bg-white"},ke={class:"flex justify-end pr-4 pt-3"},we=e("span",{class:"absolute -inset-0.5"},null,-1),Ce=e("span",{class:"sr-only"},"Close main menu",-1),$e={class:"space-y-1 px-2 pb-3 pt-4"},ze={key:0,class:"flex flex-col gap-2 text-gray-800"},Ee={__name:"default",props:{showMenu:Boolean},emits:["toggle-menu"],setup(je,{emit:Be}){const c=k({id:V(),name:I()}),g=k(null),h=q(),B=()=>{localStorage.setItem("previousRoute",h.currentRoute.value.fullPath),h.push({name:"ingresar"})},N=()=>{G(h)},S=async()=>{try{if(c.value.id){const a=await fetch(D(`/user/cotizaciones/${c.value.id}/quotationcount`),{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q()}`}});if(!a.ok)throw new Error("Error al obtener cotizaciones");const m=await a.json();g.value=m.quotationCount}}catch(a){console.error("Error al obtener cotizaciones:",a)}};F(()=>{S()});const x=[{name:"Catalogo",href:"/catalogo",icon:X},{name:"Proveedores",href:"/proveedores",icon:Y}];return(a,m)=>{const T=E,L=O,M=U("router-link"),b=R;return n(),i(_,null,[t(o(W),{as:"nav",class:"sticky top-0 z-50 block w-full min-w-[360px] bg-white shadow-sm"},{default:r(()=>[e("div",ae,[e("div",oe,[e("div",re,[e("div",ne,[e("a",{href:o(A)(),class:"flex items-center space-x-2"},[t(T,{class:"h-8 w-8"}),t(L,{class:"h-4 w-auto"})],8,ie)]),e("div",le,[(n(),i(_,null,w(x,s=>t(M,{key:s.name,to:s.href,class:l([(a._.provides[u]||a.$route).path===s.href?"border-b-2 border-primary-500 text-black":"border-transparent hover:border-b-2 hover:border-primary-500 hover:text-black","flex h-full items-center border-b-2 px-1.5 text-sm font-normal"]),"aria-current":(a._.provides[u]||a.$route).path===s.href?"page":void 0},{default:r(()=>[(n(),p(C(s.icon),{class:l([(a._.provides[u]||a.$route).path===s.href?"stroke-primary-500":" ","mr-2 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),d(" "+f(s.name),1)]),_:2},1032,["to","class","aria-current"])),64))])]),e("div",ce,[c.value.id?(n(),i("div",ue,[e("div",de,[e("p",null,[d(" Cotizaciones: "),e("span",fe,f(g.value),1)]),t(b,{to:"/precios",class:"text-blue-400 transition-all duration-200 hover:text-blue-700"},{default:r(()=>[d("Obtener más")]),_:1})])])):$("",!0),e("button",{type:"button",class:"relative rounded-md bg-gray-100 p-1.5 text-gray-600 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-100",onClick:m[0]||(m[0]=s=>a.$emit("toggle-menu"))},[me,t(o(H),{class:"h-6 w-6 text-gray-500"})]),t(o(Z),{as:"div",class:"relative"},{default:r(()=>[c.value.id?(n(),i("div",ge,[t(o(ee),{class:"relative flex items-center rounded-md bg-gray-100 px-3 py-1.5 text-sm text-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 focus:ring-offset-gray-100"},{default:r(()=>{var s;return[he,t(o(se),{class:"h-6 w-6 text-gray-500"}),e("span",_e,f((s=c.value)==null?void 0:s.name),1)]}),_:1})])):(n(),i("div",pe,[e("button",{onClick:B,class:"relative inline-flex items-center rounded-md bg-gray-100 px-3 py-2 text-sm font-medium text-gray-600 hover:bg-gray-200 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-500"},"Ingresar")])),t(z,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:r(()=>[t(o(te),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:r(()=>[t(o(v),null,{default:r(({active:s})=>[e("a",{href:"/cotizaciones",class:l([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," Mis cotizaciones ",2)]),_:1}),t(o(v),null,{default:r(({active:s})=>[e("a",{href:"#",class:l([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," Mi perfil ",2)]),_:1}),t(o(v),null,{default:r(({active:s})=>[e("a",{href:"#",onClick:N,class:l([s?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700"])}," Salir ",2)]),_:1})]),_:1})]),_:1})]),_:1}),e("div",ye,[t(o(y),{class:"relative inline-flex items-center justify-center rounded-md p-2 text-gray-600 hover:bg-gray-200 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-500"},{default:r(()=>[ve,xe,t(o(j),{class:"block h-6 w-6","aria-hidden":"true"})]),_:1})])])])]),t(o(J),{class:"sm:hidden"},{default:r(()=>[t(z,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:r(()=>[e("div",be,[e("div",ke,[t(o(y),{class:"relative inline-flex items-center justify-center rounded-md p-2 text-gray-600 hover:bg-gray-200 hover:text-gray-800 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-500"},{default:r(()=>[we,Ce,a.open?(n(),p(o(j),{key:0,class:"block h-6 w-6","aria-hidden":"true"})):(n(),p(o(K),{key:1,class:"block h-6 w-6","aria-hidden":"true"}))]),_:1})]),e("div",$e,[c.value?(n(),i("div",ze,[e("p",null,"Cotizaciones: "+f(g.value),1),t(b,{to:"/precios",class:"text-blue-400 transition-all duration-200 hover:text-blue-700"},{default:r(()=>[d("Obtener más")]),_:1})])):$("",!0),(n(),i(_,null,w(x,s=>t(o(y),{key:s.name,as:"a",href:s.href,class:l([(a._.provides[u]||a.$route).path===s.href?"bg-primary-100 text-gray-800":"text-gray-600 hover:bg-gray-200 hover:text-gray-800","flex rounded-md px-3 py-2 text-base font-medium"]),"aria-current":(a._.provides[u]||a.$route).path===s.href?"page":void 0},{default:r(()=>[(n(),p(C(s.icon),{class:l([(a._.provides[u]||a.$route).path===s.href?"stroke-primary-500":" ","mr-2 h-6 w-6"]),"aria-hidden":"true"},null,8,["class"])),d(" "+f(s.name),1)]),_:2},1032,["href","class","aria-current"])),64))])])]),_:1})]),_:1})]),_:1}),P(a.$slots,"default")],64)}}};export{Ee as default};
