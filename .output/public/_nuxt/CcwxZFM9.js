import{_ as y,a as w}from"./QfPY86wS.js";import{r as m,Z as h,c as u,a as e,b as f,v as b,D as k,y as l,z as a,a2 as N,t as V,x as U,d as c,w as q,R as C,o as d,s as R}from"./0G305dhd.js";import{_ as S}from"./c-hNZ78m.js";const P={class:"flex h-screen"},j={class:"flex w-full items-center justify-center bg-gray-100 lg:w-2/5"},D=e("div",{class:"flex h-full max-w-[300px] items-center text-center text-gray-500"},[e("h1",{class:"items-center text-2xl font-bold"},"Regístrate y únete a nuestra comunidad")],-1),T={class:"absolute inset-0 flex items-center justify-center"},z={class:"z-10 mx-auto min-h-screen w-full bg-white p-8 shadow-lg md:min-h-0 md:max-w-sm md:rounded-lg"},I={class:"mb-6 flex flex-col items-center border-b pb-6"},L={href:"http://localhost:3000/",class:"flex flex-col items-center space-y-3"},B={class:"mb-4 flex justify-center space-x-4"},M={key:0},O={class:"mb-4"},A=e("label",{for:"businessName",class:"block text-gray-700"},"Razón Social",-1),E={class:"mb-4"},J=e("label",{for:"ruc",class:"block text-gray-700"},"RUC",-1),$={class:"mb-4"},F=e("label",{for:"legalRepresentative",class:"block text-gray-700"},"Representante Legal",-1),Y={class:"mb-4"},Z=e("label",{for:"phone",class:"block text-gray-700"},"Teléfono",-1),G={key:1},H={class:"mb-4"},K=e("label",{for:"dni",class:"block text-gray-700"},"DNI",-1),Q={class:"mb-4"},W=e("label",{for:"firstName",class:"block text-gray-700"},"Nombre",-1),X={class:"mb-4"},ee=e("label",{for:"lastName",class:"block text-gray-700"},"Apellido",-1),se={class:"mb-4"},te=e("label",{for:"email",class:"block text-gray-700"},"Correo electrónico",-1),oe={class:"mb-4"},le=e("label",{for:"password",class:"block text-gray-700"},"Contraseña",-1),ae={class:"mb-6"},re=e("label",{for:"confirmPassword",class:"block text-gray-700"},"Confirme su contraseña",-1),ne={class:"mb-6 flex items-center"},ie=e("label",{for:"terms",class:"block text-gray-700"},[c("Acepto los "),e("a",{href:"terminos-de-uso",class:"text-orange-500"},"términos de uso"),c(" y las "),e("a",{href:"politicas-de-privacidad",class:"text-orange-500"},"políticas de privacidad")],-1),ue=e("button",{type:"submit",class:"w-full rounded-lg bg-orange-500 py-2 text-white hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-600 focus:ring-opacity-50"},"Registrarse",-1),de={key:2,class:"mt-4 text-center text-red-500"},ce={class:"mt-4 text-center text-gray-700"},pe=e("div",{class:"relative hidden w-3/5 lg:block"},[e("img",{src:S,alt:"Imagen de fondo",class:"h-full w-full object-cover"}),e("div",{class:"absolute inset-0 bg-orange-500 opacity-50"})],-1),ge={__name:"registrarse",setup(me){const t=m({dni:"",firstName:"",lastName:"",email:"",password:"",confirmPassword:"",paymentType:"",terms:!1,businessName:"",ruc:"",legalRepresentative:"",phone:"",role:"user"}),r=m(!1),i=m(""),v=h(),g=async()=>{if(t.value.role=r.value?"supplier":"user",r.value&&(t.value.name=t.value.businessName),t.value.password!==t.value.confirmPassword){i.value="Las contraseñas no coinciden";return}try{const n=await fetch(R("/auth/registrarse/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.value)});if(!n.ok){const p=await n.json();throw new Error(p.message)}const s=await n.json();localStorage.setItem("userData",JSON.stringify(s.data)),localStorage.setItem("token",s.token),i.value="",v.push({name:"index"})}catch(n){i.value=n.message}};return(n,s)=>{const p=y,_=w,x=C("router-link");return d(),u("div",P,[e("div",j,[D,e("div",T,[e("div",z,[e("div",I,[e("a",L,[f(p,{class:"size-16"}),f(_,{class:"h-4 w-auto"})])]),e("div",B,[e("button",{onClick:s[0]||(s[0]=o=>r.value=!1),class:b([{"bg-orange-500 text-white":!r.value},"rounded-lg px-4 py-2"])},"Usuario",2),e("button",{onClick:s[1]||(s[1]=o=>r.value=!0),class:b([{"bg-orange-500 text-white":r.value},"rounded-lg px-4 py-2"])},"Proveedor",2)]),e("form",{onSubmit:k(g,["prevent"])},[l(e("input",{type:"hidden","onUpdate:modelValue":s[2]||(s[2]=o=>t.value.role=o)},null,512),[[a,t.value.role]]),r.value?(d(),u("div",M,[e("div",O,[A,l(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>t.value.businessName=o),type:"text",id:"businessName",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.businessName]])]),e("div",E,[J,l(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>t.value.ruc=o),type:"text",id:"ruc",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.ruc]])]),e("div",$,[F,l(e("input",{"onUpdate:modelValue":s[5]||(s[5]=o=>t.value.legalRepresentative=o),type:"text",id:"legalRepresentative",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.legalRepresentative]])]),e("div",Y,[Z,l(e("input",{"onUpdate:modelValue":s[6]||(s[6]=o=>t.value.phone=o),type:"text",id:"phone",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.phone]])])])):(d(),u("div",G,[e("div",H,[K,l(e("input",{"onUpdate:modelValue":s[7]||(s[7]=o=>t.value.dni=o),type:"text",id:"dni",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.dni]])]),e("div",Q,[W,l(e("input",{"onUpdate:modelValue":s[8]||(s[8]=o=>t.value.firstName=o),type:"text",id:"firstName",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.firstName]])]),e("div",X,[ee,l(e("input",{"onUpdate:modelValue":s[9]||(s[9]=o=>t.value.lastName=o),type:"text",id:"lastName",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.lastName]])])])),e("div",se,[te,l(e("input",{"onUpdate:modelValue":s[10]||(s[10]=o=>t.value.email=o),type:"email",id:"email",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.email]])]),e("div",oe,[le,l(e("input",{"onUpdate:modelValue":s[11]||(s[11]=o=>t.value.password=o),type:"password",id:"password",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.password]])]),e("div",ae,[re,l(e("input",{"onUpdate:modelValue":s[12]||(s[12]=o=>t.value.confirmPassword=o),type:"password",id:"confirmPassword",class:"mt-2 w-full rounded border px-3 py-2 focus:border-blue-300 focus:outline-none focus:ring",required:""},null,512),[[a,t.value.confirmPassword]])]),e("div",ne,[l(e("input",{"onUpdate:modelValue":s[13]||(s[13]=o=>t.value.terms=o),type:"checkbox",id:"terms",class:"mr-2",required:""},null,512),[[N,t.value.terms]]),ie]),ue,i.value?(d(),u("p",de,V(i.value),1)):U("",!0),e("p",ce,[c("¿Ya tienes una cuenta? "),f(x,{to:"/ingresar",class:"text-orange-500"},{default:q(()=>[c("Inicia sesión aquí")]),_:1})])],32)])])]),pe])}}};export{ge as default};
