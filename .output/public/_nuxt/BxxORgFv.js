import{d as m,M as b,o as l,x as M,w as n,f as i,u as r,Y as k,j as _,a as e,G as C,V as $,b as v,t as c,c as d,F as j,r as P,S as D,E as V,g as B,i as x,N as g,l as L}from"./BPtiCvXN.js";const E=e("div",{class:"fixed inset-0 bg-black/25"},null,-1),F={class:"fixed inset-0 overflow-y-auto"},S={class:"flex min-h-full items-center justify-center p-4 text-center"},z=e("hr",{class:"mb-4"},null,-1),N={class:"mt-2 flex flex-col md:flex-row"},G={class:"mb-4 w-full md:mb-0 md:w-1/3 md:pr-4"},q=["src"],O={class:"flex w-full flex-col gap-2 md:w-2/3"},T={class:"text-2xl font-semibold"},Y={class:"text-sm"},A={class:"mt-4"},H=e("h4",{class:"font-semibold"},"Características:",-1),I={key:0,class:"mt-4"},W={key:1,class:"mt-4 text-gray-500"},J={key:2},K=e("br",null,null,-1),Q={class:"text-sm text-gray-500"},R={class:"mt-6 flex justify-end space-x-2"},U={__name:"ProductDetail",props:{showModal:Boolean,product:Object,closeModal:Function},setup(t){const u=t,h=m([]),o=m(!1),f=async()=>{o.value=!0;try{const s=await V(B(`/supplier/producto/${u.product.id}/features`),"GET");h.value=s.features}catch(s){console.error("Error fetching product features:",s)}finally{o.value=!1}};return b(()=>u.showModal,s=>{s&&u.product&&u.product.id&&f()}),(s,p)=>(l(),M(r(D),{appear:"",show:t.showModal,as:"template"},{default:n(()=>[i(r(k),{as:"div",onClose:t.closeModal,class:"relative z-10"},{default:n(()=>[i(r(_),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:n(()=>[E]),_:1}),e("div",F,[e("div",S,[i(r(_),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:n(()=>[i(r(C),{class:"w-full max-w-3xl transform overflow-hidden rounded-lg bg-white p-6 text-left align-middle shadow-xl transition-all"},{default:n(()=>[i(r($),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:n(()=>[v("Detalles del Producto")]),_:1}),z,e("div",N,[e("div",G,[e("img",{src:t.product.photo,alt:"product image",class:"aspect-square size-full rounded-md object-cover"},null,8,q)]),e("div",O,[e("p",T,c(t.product.name),1),e("p",Y,c(t.product.description),1),e("div",A,[H,o.value?(l(),d("div",I,"Cargando características...")):h.value.length===0?(l(),d("div",W,"Este producto no tiene características.")):(l(),d("ul",J,[(l(!0),d(j,null,P(h.value,a=>(l(),d("li",{key:a.id,class:"mt-2"},[e("strong",null,c(a.name)+":",1),v(" "+c(a.value)+" ",1),K,e("span",Q,c(a.description),1)]))),128))]))])])]),e("div",R,[e("button",{onClick:p[0]||(p[0]=(...a)=>t.closeModal&&t.closeModal(...a)),class:"rounded-md bg-gray-600 px-4 py-2 text-white hover:bg-gray-700"},"Cerrar")])]),_:1})]),_:1})])])]),_:1},8,["onClose"])]),_:1},8,["show"]))}},X={class:"relative aspect-square overflow-hidden rounded-xl bg-white bg-clip-border text-gray-700"},Z=["src"],ee={class:"flex h-full w-full animate-pulse items-center justify-center bg-gray-200"},te=e("svg",{class:"h-5 w-5 animate-spin text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C6.48 0 2 4.48 2 10h2zm2 5.29l-1.42-1.42C6.6 14.09 7 12.6 7 11H5c0 1.76-.55 3.4-1.49 4.71L6 17.29z"})],-1),se=[te],ae={class:"p-2 sm:p-3"},oe={class:"mb-2 flex items-center justify-between"},le={class:"line-clamp-2 font-sans text-sm font-medium leading-relaxed text-gray-900 antialiased"},ce={class:"line-clamp-2 font-sans text-xs font-normal leading-normal text-gray-700 antialiased opacity-75 sm:line-clamp-3"},ne={class:"flex w-full"},ue={__name:"ProductCard",props:{product:Object,updatePrice:Function},emits:["agregar"],setup(t,{emit:u}){const h=t,o=m(!0),f=m(!1),s=m(null),p=()=>{o.value=!1},a=()=>{s.value=h.product,f.value=!0},w=()=>{f.value=!1};return(re,ie)=>{const y=U;return l(),d("div",{class:"relative flex flex-col justify-between rounded-xl bg-white bg-clip-border p-2 text-gray-700 transition-all duration-200 hover:shadow-md",onClick:a},[e("div",X,[x(e("img",{src:t.product.photo,onLoad:p,alt:"card-image",class:"h-full w-full object-cover object-center"},null,40,Z),[[g,!o.value]]),x(e("div",ee,se,512),[[g,o.value]])]),e("div",ae,[e("div",oe,[e("p",le,c(t.product.name),1)]),e("p",ce,c(t.product.description),1)]),e("div",ne,[e("button",{class:"block w-full select-none rounded-lg bg-gray-900/10 px-5 py-3 text-center align-middle font-sans text-xs font-bold uppercase text-gray-900 shadow-none shadow-gray-900/10 transition-all hover:scale-105 hover:shadow-none hover:shadow-gray-900/20",onClick:L(a,["stop"])}," Ver detalles ")]),i(y,{showModal:f.value,product:s.value,closeModal:w},null,8,["showModal","product"])])}}};export{ue as _};
