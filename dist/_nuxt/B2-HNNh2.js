import{r as n,q as N,c,a as o,b as l,H as u,w as i,d as w,t as k,x as j,F as p,s as _,I as E,o as t,n as m,U as R}from"./0G305dhd.js";import{_ as U}from"./D9Tm4mlO.js";import{_ as A}from"./CBDKxmMK.js";import{_ as I}from"./yTlZPTfq.js";import{_ as L}from"./Ckw8RsXX.js";import{_ as M}from"./eUb0384X.js";import"./O2bfNkhH.js";const q={class:"flex flex-col items-center justify-center space-y-4 px-3 py-8 md:py-12 xl:py-16"},D=o("h1",{class:"mb-4 text-center text-2xl font-extrabold text-gray-900 md:text-4xl lg:text-5xl"},[o("span",{class:"bg-gradient-to-r from-yellow-400 to-primary-600 bg-clip-text text-transparent"},"Materiales de Construcción")],-1),G={class:"relative w-full max-w-md"},H={key:0},Q={key:1,class:"p-4 text-center text-gray-500"},T={class:"font-semibold"},z={class:"col-span-full p-4 text-center text-gray-500"},J={class:"font-semibold"},K=o("h6",{class:"p-4 text-xl font-bold"},"Categorías",-1),O=o("h6",{class:"p-4 text-xl font-bold"},"Últimos productos agregados",-1),ae={__name:"index",setup(W){const f=n([]),x=n([]),g=n([]),s=n(""),h=n(!0),C=n(!0),P=async()=>{try{const e=await fetch(_("/supplier/explorar/getrecentproductsexplorar"));if(!e.ok)throw new Error("Failed to fetch recent products");const r=await e.json();f.value=r.data}catch(e){console.error(e)}finally{h.value=!1}},b=async()=>{try{const e=await fetch(_("/supplier/explorar/getcategories"));if(!e.ok)throw new Error("Failed to fetch categories");const r=await e.json();x.value=r.data}catch(e){console.error(e)}finally{C.value=!1}},V=async()=>{try{const e=await fetch(_(`/supplier/explorar/searchrecentproductsexplorar?query=${s.value}`));if(!e.ok)throw new Error("Failed to search products");const r=await e.json();g.value=r.data}catch(e){console.error(e)}},y=e=>{R(e)};return N(()=>{b(),P()}),(e,r)=>{const F=E,v=U,d=A,S=I,$=L,B=M;return t(),c(p,null,[o("div",q,[D,o("div",G,[l(F,{type:"text",modelValue:s.value,"onUpdate:modelValue":r[0]||(r[0]=a=>s.value=a),onInput:V,placeholder:"Buscar General..",class:"mb-4 w-full rounded border p-2"},null,8,["modelValue"])])]),s.value?(t(),c("div",H,[e.isSearching?(t(),u(d,{key:0},{default:i(()=>[(t(),c(p,null,m(6,a=>l(v,{key:a})),64))]),_:1})):e.noResultsFound?(t(),c("div",Q,[w(" No se encontró ningún producto llamado "),o("span",T,k(s.value),1)])):(t(),u(d,{key:2},{default:i(()=>[o("p",z,[w(" Productos encontrados para "),o("span",J,k(s.value),1)]),l(S,{products:g.value,onAgregar:y,updatePrice:e.updatePrice},null,8,["products","updatePrice"])]),_:1}))])):j("",!0),o("div",null,[K,l(d,null,{default:i(()=>[l($,{items:x.value,category:""},null,8,["items"])]),_:1})]),o("div",null,[O,h.value?(t(),u(d,{key:0},{default:i(()=>[(t(),c(p,null,m(6,a=>l(v,{key:a})),64))]),_:1})):(t(),u(d,{key:1},{default:i(()=>[(t(!0),c(p,null,m(f.value,a=>(t(),u(B,{key:a.id,product:a,onAgregar:y},null,8,["product"]))),128))]),_:1}))])],64)}}};export{ae as default};
